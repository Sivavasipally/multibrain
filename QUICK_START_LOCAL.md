# Quick Start - Local Development (No Docker)

This guide helps you run the RAG Chatbot PWA locally without Docker, using SQLite and simplified dependencies.

## ğŸš€ One-Command Setup

### Windows PowerShell (Recommended)
```powershell
.\scripts\deploy-local.ps1
```

### Windows Command Prompt
```cmd
scripts\deploy-local.bat
```

### Interactive Setup
```cmd
setup-windows.bat
```

## ğŸ“‹ Prerequisites

Only these are required for local development:

1. **Node.js 18+** - [Download](https://nodejs.org/)
2. **Python 3.9+** - [Download](https://python.org/)

That's it! No Docker, PostgreSQL, or Redis needed.

## ğŸ”§ What the Local Setup Includes

### âœ… Simplified Stack
- **Database**: SQLite (single file, no setup required)
- **Cache**: In-memory (no Redis needed)
- **File Storage**: Local filesystem
- **AI**: Basic Gemini integration (add your API key)
- **Background Tasks**: Disabled (immediate processing)

### âœ… Full Features Available
- âœ… User authentication and registration
- âœ… Context creation (files, repos, databases)
- âœ… File upload and processing
- âœ… Chat interface with message history
- âœ… PWA features (offline, installable)
- âœ… Responsive Material-UI design

### âš ï¸ Limitations (vs Full Docker Setup)
- No background task processing (Celery)
- No Redis caching
- Simplified AI responses (demo mode)
- SQLite instead of PostgreSQL
- No horizontal scaling

## ğŸ¯ Quick Start Steps

### 1. Clone and Navigate
```bash
git clone <your-repo>
cd rag-chatbot-pwa
```

### 2. Run Setup Script
```powershell
# PowerShell (recommended)
.\scripts\deploy-local.ps1

# OR Command Prompt
scripts\deploy-local.bat

# OR Interactive
setup-windows.bat
```

### 3. Access the App
- **Frontend**: http://localhost:5173
- **Backend API**: http://localhost:5000
- **Health Check**: http://localhost:5000/health

### 4. Create Account
1. Go to http://localhost:5173
2. Click "Sign up"
3. Create your account
4. Start using the app!

## ğŸ”‘ Configuration

### Environment Variables
The setup script creates a `.env` file with these defaults:

```env
# Local SQLite Database
DATABASE_URL=sqlite:///./ragchatbot.db

# In-memory cache (no Redis needed)
REDIS_URL=memory://

# JWT (auto-generated)
JWT_SECRET_KEY=<auto-generated>

# Gemini AI (add your key)
GEMINI_API_KEY=your-gemini-api-key-here

# Local Development
FLASK_ENV=development
FLASK_DEBUG=1
```

### Get Gemini API Key (Optional)
1. Visit https://makersuite.google.com/app/apikey
2. Create an API key
3. Replace `your-gemini-api-key-here` in `.env`

Without the API key, you'll get demo responses instead of real AI.

## ğŸ“ File Structure (Local)

```
myrag/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app_local.py          # Simplified Flask app
â”‚   â”œâ”€â”€ requirements-local.txt # Lightweight dependencies
â”‚   â”œâ”€â”€ ragchatbot.db         # SQLite database (created automatically)
â”‚   â””â”€â”€ uploads/              # Uploaded files
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/                  # React PWA source
â”‚   â””â”€â”€ dist/                 # Built files
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ deploy-local.ps1      # PowerShell setup
â”‚   â””â”€â”€ deploy-local.bat      # Batch setup
â””â”€â”€ .env                      # Configuration
```

## ğŸ› ï¸ Development Workflow

### Start Development
```powershell
.\scripts\deploy-local.ps1 deploy
```

### Stop Services
```powershell
.\scripts\deploy-local.ps1 stop
```

### Clean Everything
```powershell
.\scripts\deploy-local.ps1 clean
```

### View Logs
Services run in background jobs. Check PowerShell job status:
```powershell
Get-Job
Receive-Job -Id <job-id>
```

## ğŸ” Troubleshooting

### Common Issues

#### 1. "Python not found"
```bash
# Check Python installation
python --version

# If not found, download from python.org
# Make sure to check "Add Python to PATH"
```

#### 2. "Node not found"
```bash
# Check Node.js installation
node --version

# If not found, download from nodejs.org
```

#### 3. "Port already in use"
```bash
# Find what's using the port
netstat -ano | findstr :5000

# Kill the process
taskkill /PID <process-id> /F
```

#### 4. "Permission denied"
```powershell
# Run PowerShell as Administrator
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope LocalMachine

# Or bypass for single script
powershell -ExecutionPolicy Bypass -File scripts\deploy-local.ps1
```

#### 5. Database issues
```bash
# Delete and recreate database
del backend\ragchatbot.db
.\scripts\deploy-local.ps1 deploy
```

### Reset Everything
```powershell
# Complete reset
.\scripts\deploy-local.ps1 clean

# Remove dependencies too
# (Answer 'y' when prompted)

# Start fresh
.\scripts\deploy-local.ps1 deploy
```

## ğŸ¯ Next Steps

### 1. Add Your Data
- **Upload Files**: Go to Contexts â†’ Create Context â†’ Files
- **Connect Repository**: Add GitHub OAuth credentials to `.env`
- **Connect Database**: Use any SQL/NoSQL database connection string

### 2. Start Chatting
- Create a chat session
- Select your contexts
- Ask questions about your data

### 3. Customize
- Modify `backend/app_local.py` for backend changes
- Edit `frontend/src/` for UI changes
- Both have hot reload enabled

### 4. Deploy to Production
When ready, switch to the full Docker setup:
```bash
docker-compose up -d
```

## ğŸ“ Support

### Local Development Issues
1. Check this troubleshooting guide
2. Verify prerequisites are installed
3. Try the reset procedure above

### Feature Requests
The local setup is simplified for development. For full features:
- Use the Docker setup
- Deploy to cloud platforms
- Enable background processing

## ğŸ‰ Success!

If you see this, you're ready to go:

```
ğŸ‰ Local deployment completed!

ğŸ“± Frontend: http://localhost:5173
ğŸ”§ Backend API: http://localhost:5000
ğŸ“Š API Health: http://localhost:5000/health
```

Happy coding! ğŸš€
